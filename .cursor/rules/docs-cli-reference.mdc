---
description: Keep README CLI reference in sync when CLI code changes
globs: cmd/prosefmt/**/*.go,README.md
alwaysApply: false
---

# CLI docs sync

When you add, remove, or change any of the following in the CLI code, update the **CLI reference** section in [README.md](README.md) to match:

- **Flags**: new flags, removed flags, or changes to behavior/description of existing flags (e.g. in `rootCmd.Flags()` or `rootCmd.PersistentFlags()`).
- **Commands**: new or removed subcommands (e.g. `rootCmd.AddCommand(...)`), or changes to their usage/description.
- **Synopsis**: if the usage line or default behavior changes (e.g. `rootCmd.Use`, or how check/write default works).

**What to update in README.md**

1. **Synopsis** – Keep the usage line and the short paragraph under it aligned with the real usage and defaults.
2. **Per-flag sections** – One level-3 subsection per flag (e.g. `### \`--check\`` or `### \`-q\`, \`--quiet\``). Add a section for new flags, remove for removed flags, and edit the text when behavior or description changes.
3. **Subcommands** – If you add subcommands (e.g. `version`, `completion`), add a short subsection for each in the CLI reference describing what they do and how to invoke them.

After editing the CLI, check the "CLI reference" section and apply any needed doc updates in the same change.
